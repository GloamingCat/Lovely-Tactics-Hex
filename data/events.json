[
  {
    "data": {
      "events": [],
      "description": "",
      "name": "NPC",
      "tags": [],
      "key": ""
    },
    "id": 4,
    "children": [
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "stopChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "other",
                  "value": "\"self\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "other",
                  "value": "\"player\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "jumpChar",
              "tags": [
                {
                  "key": "height",
                  "value": "12"
                },
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "speed",
                  "value": "-1"
                },
                {
                  "key": "time",
                  "value": "10"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.npc.Hi}\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "TroopManager:getPlayerTroop():hasMember('Merlin')",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"dialogueEnd\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.npc.CanIJoin}\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openChoiceWindow",
              "tags": [
                {
                  "key": "alignX",
                  "value": "0"
                },
                {
                  "key": "alignY",
                  "value": "0"
                },
                {
                  "key": "cancel",
                  "value": "-1"
                },
                {
                  "key": "height",
                  "value": "-1"
                },
                {
                  "key": "variable",
                  "value": "\"choiceInput\""
                },
                {
                  "key": "width",
                  "value": "50"
                },
                {
                  "key": "x",
                  "value": "0"
                },
                {
                  "key": "y",
                  "value": "-20"
                },
                {
                  "key": "choices",
                  "value": "[\"{%yes}\",\"{%no}\"]"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%choiceInput} == 1",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.npc.ThatsGood}\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%choiceInput} == 1",
              "name": "addMember",
              "tags": [
                {
                  "key": "key",
                  "value": "\"Merlin\""
                }
              ],
              "key": ""
            },
            {
              "condition": "{%choiceInput} == 2",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.npc.ThatsBad}\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLabel",
              "tags": [
                {
                  "key": "name",
                  "value": "\"dialogueEnd\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "closeDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                }
              ],
              "key": ""
            }
          ],
          "description": "Merlins asks if he can join the party.",
          "name": "Merlin",
          "tags": [],
          "key": "Merlin"
        },
        "id": 0,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "playCharAnim",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "name",
                  "value": "\"Idle\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "h",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "other",
                  "value": "\"self\""
                },
                {
                  "key": "x",
                  "value": "0"
                },
                {
                  "key": "y",
                  "value": "0"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "h",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "other",
                  "value": "\"player\""
                },
                {
                  "key": "x",
                  "value": "0"
                },
                {
                  "key": "y",
                  "value": "0"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "{%dialogues.npc.WhatDoYou}"
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openChoiceWindow",
              "tags": [
                {
                  "key": "alignX",
                  "value": "0"
                },
                {
                  "key": "alignY",
                  "value": "0"
                },
                {
                  "key": "cancel",
                  "value": "3"
                },
                {
                  "key": "height",
                  "value": "-1"
                },
                {
                  "key": "variable",
                  "value": "\"choiceInput\""
                },
                {
                  "key": "width",
                  "value": "70"
                },
                {
                  "key": "x",
                  "value": "-1"
                },
                {
                  "key": "y",
                  "value": "-30"
                },
                {
                  "key": "choices",
                  "value": "[\"{%dialogues.npc.Shop}\",\"{%dialogues.npc.Recruit}\",\"{%dialogues.npc.Battle}\",\"{%dialogues.npc.Nothing}\"]"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "closeDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%choiceInput} == 1",
              "name": "openShopMenu",
              "tags": [
                {
                  "key": "sell",
                  "value": "true"
                },
                {
                  "key": "items",
                  "value": "[{\"id\":2,\"value\":-1},{\"id\":3,\"value\":-1},{\"id\":8,\"value\":-1},{\"id\":4,\"value\":-1},{\"id\":5,\"value\":-1},{\"id\":6,\"value\":-1},{\"id\":7,\"value\":-1}]"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%choiceInput} == 2",
              "name": "openRecruitMenu",
              "tags": [
                {
                  "key": "sell",
                  "value": "true"
                },
                {
                  "key": "items",
                  "value": "[{\"id\":14,\"value\":-1}]"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%choiceInput} ~= 3",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"end\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setHudVisibility",
              "tags": [
                {
                  "key": "visible",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadeout",
              "tags": [
                {
                  "key": "time",
                  "value": "15"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "runBattle",
              "tags": [
                {
                  "key": "fade",
                  "value": "60"
                },
                {
                  "key": "fieldID",
                  "value": "2"
                },
                {
                  "key": "gameOverCondition",
                  "value": "0"
                },
                {
                  "key": "skipIntro",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadein",
              "tags": [
                {
                  "key": "time",
                  "value": "15"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setHudVisibility",
              "tags": [
                {
                  "key": "visible",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "BattleManager:playerWon()",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.battle.Won}\""
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "BattleManager:enemyWon()",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.battle.Lost}\""
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "BattleManager:drawed()",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.battle.Draw}\""
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "BattleManager:playerEscaped()",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.battle.Escape}\""
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "BattleManager:enemyEscaped()",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.battle.Walkover}\""
                },
                {
                  "key": "character",
                  "value": "\"self\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "closeDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            }
          ],
          "description": "Lancelot asks if the player wants to battle or shop.",
          "name": "Lancelot",
          "tags": [],
          "key": "Lancelot"
        },
        "id": 2,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "stopChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "not {%id}",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"id\""
                },
                {
                  "key": "value",
                  "value": "Database.items[\"{%id}\"].id"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"itemKey\""
                },
                {
                  "key": "value",
                  "value": "Database.items[{%id}].key"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"term\""
                },
                {
                  "key": "value",
                  "value": "Vocab.data.item[\"{%itemKey}\"]"
                }
              ],
              "key": ""
            },
            {
              "condition": "not {%term}",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"itemName\""
                },
                {
                  "key": "value",
                  "value": "Database.items[{%id}].name"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%term}",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"itemName\""
                },
                {
                  "key": "value",
                  "value": "Vocab.data.item[\"{%itemKey}\"]"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openMessageWindow",
              "tags": [
                {
                  "key": "alignX",
                  "value": "0"
                },
                {
                  "key": "alignY",
                  "value": "0"
                },
                {
                  "key": "height",
                  "value": "-1"
                },
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "text",
                  "value": "{%loot}"
                },
                {
                  "key": "wait",
                  "value": "true"
                },
                {
                  "key": "width",
                  "value": "-1"
                },
                {
                  "key": "x",
                  "value": "0"
                },
                {
                  "key": "y",
                  "value": "0"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "increaseItem",
              "tags": [
                {
                  "key": "value",
                  "value": "{%itemCount}"
                },
                {
                  "key": "id",
                  "value": "{%id}"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "closeMessageWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "1"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "deleteChar",
              "tags": [
                {
                  "key": "graphics",
                  "value": "false"
                },
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "optional",
                  "value": "false"
                },
                {
                  "key": "permanent",
                  "value": "true"
                },
                {
                  "key": "props",
                  "value": "false"
                },
                {
                  "key": "scripts",
                  "value": "false"
                },
                {
                  "key": "tile",
                  "value": "false"
                },
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "vars",
                  "value": "false"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            }
          ],
          "description": "Collide to get an item.",
          "name": "Loot",
          "tags": [
            {
              "key": "itemCount",
              "value": "1"
            }
          ],
          "key": ""
        },
        "id": 13,
        "children": []
      }
    ]
  },
  {
    "data": {
      "events": [],
      "description": "",
      "name": "System",
      "tags": [],
      "key": ""
    },
    "id": 5,
    "children": [
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "stopChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                }
              ],
              "key": ""
            },
            {
              "condition": "FieldManager:loadedFromSave()",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"end\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "resetChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "props",
                  "value": "true"
                },
                {
                  "key": "graphics",
                  "value": "true"
                },
                {
                  "key": "tile",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setCharVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"spawns\""
                },
                {
                  "key": "value",
                  "value": "{%spawns} + 1"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%spawns} > {%minSpawns}",
              "name": "setCharVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"defeated\""
                },
                {
                  "key": "value",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "not {%defeated}",
              "name": "setCharVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"spawns\""
                },
                {
                  "key": "value",
                  "value": "0"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%defeated}",
              "name": "deleteChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "permanent",
                  "value": "false"
                },
                {
                  "key": "scripts",
                  "value": "true"
                }
              ],
              "key": ""
            }
          ],
          "description": "Deletes the character if already defeated.\nSet the argument \"minSpawns\" to the number of times\nthe player should enter the field before the enemy shows up again.",
          "name": "Spawn Check",
          "tags": [
            {
              "key": "spawns",
              "value": "0"
            },
            {
              "key": "minSpawns",
              "value": "1"
            },
            {
              "key": "defeated",
              "value": "false"
            }
          ],
          "key": "Spawn"
        },
        "id": 3,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "1"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%defeated}",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"end\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"deltaBattleTime\""
                },
                {
                  "key": "value",
                  "value": "GameManager.frame - {%lastBattleTime}"
                }
              ],
              "key": ""
            },
            {
              "condition": "not FieldManager.playerInput or not script:collidedWith('player') or {%deltaBattleTime} <= 60",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"end\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "playCharAnim",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "name",
                  "value": "\"Idle\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "other",
                  "value": "\"self\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "other",
                  "value": "\"player\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "showEmotionBalloon",
              "tags": [
                {
                  "key": "key",
                  "value": "{%collided}"
                },
                {
                  "key": "emotion",
                  "value": "\"!\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "30"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setHudVisibility",
              "tags": [
                {
                  "key": "visible",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "playSFX",
              "tags": [
                {
                  "key": "volume",
                  "value": "100"
                },
                {
                  "key": "name",
                  "value": "\"battleIntro\""
                },
                {
                  "key": "pitch",
                  "value": "100"
                },
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadeout",
              "tags": [
                {
                  "key": "time",
                  "value": "60"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "runBattle",
              "tags": [
                {
                  "key": "fade",
                  "value": "30"
                },
                {
                  "key": "fieldID",
                  "value": "{%fieldId}"
                },
                {
                  "key": "gameOverCondition",
                  "value": "2"
                },
                {
                  "key": "skipIntro",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"escaped\""
                },
                {
                  "key": "value",
                  "value": "BattleManager:playerEscaped()"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%escaped}",
              "name": "setCharVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"cooldown\""
                },
                {
                  "key": "value",
                  "value": "{%escapeCooldown}"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%escaped}",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"fade\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setCharVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"defeated\""
                },
                {
                  "key": "value",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setCharVisibility",
              "tags": [
                {
                  "key": "fade",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "visible",
                  "value": "false"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLabel",
              "tags": [
                {
                  "key": "name",
                  "value": "\"fade\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadein",
              "tags": [
                {
                  "key": "time",
                  "value": "60"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setGlobalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"lastBattleTime\""
                },
                {
                  "key": "value",
                  "value": "GameManager.frame"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setHudVisibility",
              "tags": [
                {
                  "key": "visible",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%defeated}",
              "name": "deleteChar",
              "tags": [
                {
                  "key": "graphics",
                  "value": "true"
                },
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "optional",
                  "value": "false"
                },
                {
                  "key": "permanent",
                  "value": "false"
                },
                {
                  "key": "props",
                  "value": "true"
                },
                {
                  "key": "scripts",
                  "value": "true"
                },
                {
                  "key": "tile",
                  "value": "true"
                },
                {
                  "key": "time",
                  "value": "1"
                },
                {
                  "key": "vars",
                  "value": "false"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            }
          ],
          "description": "Starts a battle encounter.",
          "name": "Mob Battle",
          "tags": [
            {
              "key": "lastBattleTime",
              "value": "-60"
            },
            {
              "key": "fieldId",
              "value": "0"
            },
            {
              "key": "escapeCooldown",
              "value": "150"
            },
            {
              "key": "defeated",
              "value": "false"
            }
          ],
          "key": "Battle"
        },
        "id": 1,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "1"
                }
              ],
              "key": ""
            },
            {
              "condition": "FieldManager.player:isBusy() or not FieldManager.playerInput",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"start\""
                }
              ],
              "key": ""
            },
            {
              "condition": "{%cooldown} > 0",
              "name": "setCharVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"cooldown\""
                },
                {
                  "key": "value",
                  "value": "{%cooldown} - GameManager:frameTime() * 60"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%cooldown} > 0",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"start\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharPath",
              "tags": [
                {
                  "key": "h",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "vision",
                  "value": "{%vision}"
                },
                {
                  "key": "other",
                  "value": "\"{%target}\""
                },
                {
                  "key": "speed",
                  "value": "-1"
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "x",
                  "value": "0"
                },
                {
                  "key": "y",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLocalVar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"moved\""
                },
                {
                  "key": "value",
                  "value": "script.char.path ~= nil"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "stopChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%moved}",
              "name": "script:wait(math.variation({%pauseStd}, {%pauseTime}))",
              "tags": [],
              "key": ""
            },
            {
              "condition": "",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"start\""
                }
              ],
              "key": ""
            }
          ],
          "description": "Walks towards a character, constantly,\nwhile the player is free to move.",
          "name": "Follow Character",
          "tags": [
            {
              "key": "vision",
              "value": "4"
            },
            {
              "key": "pauseTime",
              "value": "60"
            },
            {
              "key": "pauseStd",
              "value": "0"
            },
            {
              "key": "target",
              "value": "\"player\""
            },
            {
              "key": "cooldown",
              "value": "0"
            }
          ],
          "key": ""
        },
        "id": 11,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "setCharProperty",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "prop",
                  "value": "6"
                },
                {
                  "key": "value",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "1"
                }
              ],
              "key": ""
            },
            {
              "condition": "FieldManager.player:isBusy() or {%interacting}",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"start\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharRandom",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "wait",
                  "value": "true"
                },
                {
                  "key": "blocked",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "stopChar",
              "tags": [
                {
                  "key": "key",
                  "value": "\"self\""
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "script:wait(math.variation({%pauseStd}, {%pauseTime}))",
              "tags": [],
              "key": ""
            },
            {
              "condition": "",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"start\""
                }
              ],
              "key": ""
            }
          ],
          "description": "Walk cycle for characters that follow another\ncharacter (by default, the player) around.",
          "name": "Random Walk",
          "tags": [
            {
              "key": "pauseTime",
              "value": "60"
            },
            {
              "key": "pauseStd",
              "value": "0"
            },
            {
              "key": "interacting",
              "value": "false"
            }
          ],
          "key": ""
        },
        "id": 12,
        "children": []
      }
    ]
  },
  {
    "data": {
      "events": [],
      "description": "",
      "name": "Field",
      "tags": [],
      "key": ""
    },
    "id": 6,
    "children": [
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "fadeout",
              "tags": [
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadein",
              "tags": [
                {
                  "key": "time",
                  "value": "60"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setHudVisibility",
              "tags": [
                {
                  "key": "visible",
                  "value": "true"
                }
              ],
              "key": ""
            }
          ],
          "description": "",
          "name": "Field Load",
          "tags": [],
          "key": "FieldLoad"
        },
        "id": 9,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "\"{%exit}\" == \"\"",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"fade\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharTile",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "other",
                  "value": "\"{%exit}\""
                },
                {
                  "key": "optional",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharTile",
              "tags": [
                {
                  "key": "key",
                  "value": "\"player\""
                },
                {
                  "key": "other",
                  "value": "\"{%exit}\""
                },
                {
                  "key": "optional",
                  "value": "true"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setLabel",
              "tags": [
                {
                  "key": "name",
                  "value": "\"fade\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadein",
              "tags": [
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadeout",
              "tags": [
                {
                  "key": "time",
                  "value": "30"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            }
          ],
          "description": "",
          "name": "Field Exit",
          "tags": [],
          "key": "FieldExit"
        },
        "id": 10,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "fadeout",
              "tags": [
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadein",
              "tags": [
                {
                  "key": "time",
                  "value": "60"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%skipParties} or BattleManager.saveData ~= nil",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"end\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "focusParties",
              "tags": [
                {
                  "key": "speed",
                  "value": "50"
                },
                {
                  "key": "time",
                  "value": "30"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "15"
                }
              ],
              "key": ""
            }
          ],
          "description": "Default battle intro.",
          "name": "Battle Load",
          "tags": [
            {
              "key": "skipParties",
              "value": "false"
            }
          ],
          "key": "NormalBattle"
        },
        "id": 7,
        "children": []
      },
      {
        "data": {
          "events": [
            {
              "condition": "",
              "name": "fadeout",
              "tags": [
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "fadein",
              "tags": [
                {
                  "key": "time",
                  "value": "60"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "BattleManager.saveData ~= nil",
              "name": "jumpTo",
              "tags": [
                {
                  "key": "name",
                  "value": "\"end\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.scene.ThisIsA}\""
                },
                {
                  "key": "character",
                  "value": "\"{%char}\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "closeDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "jumpChar",
              "tags": [
                {
                  "key": "height",
                  "value": "15"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "speed",
                  "value": "-1"
                },
                {
                  "key": "time",
                  "value": "15"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setCharProperty",
              "tags": [
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "prop",
                  "value": "3"
                },
                {
                  "key": "value",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "playCharAnim",
              "tags": [
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "name",
                  "value": "Dash"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "45"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "315"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "270"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "225"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "135"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "0"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "90"
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                },
                {
                  "key": "speed",
                  "value": "-1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "moveCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "225"
                },
                {
                  "key": "distance",
                  "value": "1"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": "\"{%char}\""
                },
                {
                  "key": "speed",
                  "value": "-1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "turnCharDir",
              "tags": [
                {
                  "key": "angle",
                  "value": "135"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "other",
                  "value": ""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "playCharAnim",
              "tags": [
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "name",
                  "value": "Idle"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "setCharProperty",
              "tags": [
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "prop",
                  "value": "3"
                },
                {
                  "key": "value",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "jumpChar",
              "tags": [
                {
                  "key": "height",
                  "value": "15"
                },
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "speed",
                  "value": "-1"
                },
                {
                  "key": "time",
                  "value": "15"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "message",
                  "value": "\"{%dialogues.scene.DidYouLike}\""
                },
                {
                  "key": "character",
                  "value": "\"{%char}\""
                },
                {
                  "key": "portrait",
                  "value": "\"BigIcon\""
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "openChoiceWindow",
              "tags": [
                {
                  "key": "alignX",
                  "value": "0"
                },
                {
                  "key": "alignY",
                  "value": "0"
                },
                {
                  "key": "cancel",
                  "value": "-1"
                },
                {
                  "key": "height",
                  "value": "-1"
                },
                {
                  "key": "variable",
                  "value": "inputResult"
                },
                {
                  "key": "width",
                  "value": "50"
                },
                {
                  "key": "x",
                  "value": "0"
                },
                {
                  "key": "y",
                  "value": "-20"
                },
                {
                  "key": "choices",
                  "value": "[\"{%yes}\",\"{%no}\"]"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "closeDialogueWindow",
              "tags": [
                {
                  "key": "id",
                  "value": "1"
                },
                {
                  "key": "wait",
                  "value": "true"
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "playSFX",
              "tags": [
                {
                  "key": "volume",
                  "value": "100"
                },
                {
                  "key": "name",
                  "value": "\"?\""
                },
                {
                  "key": "pitch",
                  "value": "100"
                },
                {
                  "key": "time",
                  "value": "0"
                },
                {
                  "key": "wait",
                  "value": "false"
                }
              ],
              "key": ""
            },
            {
              "condition": "{%inputResult} == 1",
              "name": "showEmotionBalloon",
              "tags": [
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "emotion",
                  "value": "\"<3\""
                }
              ],
              "key": ""
            },
            {
              "condition": "{%inputResult} == 2",
              "name": "showEmotionBalloon",
              "tags": [
                {
                  "key": "key",
                  "value": "\"{%char}\""
                },
                {
                  "key": "emotion",
                  "value": "\"@\""
                }
              ],
              "key": ""
            },
            {
              "condition": "",
              "name": "waitFrames",
              "tags": [
                {
                  "key": "time",
                  "value": "90"
                }
              ],
              "key": ""
            }
          ],
          "description": "Tests scene execution before battle.",
          "name": "Test Battle Load",
          "tags": [],
          "key": "TestBattle"
        },
        "id": 8,
        "children": []
      }
    ]
  }
]